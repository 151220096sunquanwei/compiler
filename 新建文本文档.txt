cmake_minimum_required(VERSION 3.6)
project(Compiler)
include_directories(include ${CMAKE_CURRENT_BINARY_DIR})

set(CMAKE_C_STANDARD 11)

find_package(FLEX)
find_package(BISON)
flex_target(Scanner lex文件.l ${CMAKE_CURRENT_BINARY_DIR}/lexer.c)
bison_target(Parser yy文件.y ${CMAKE_CURRENT_BINARY_DIR}/parser.c COMPILE_FLAGS --defines=${CMAKE_CURRENT_BINARY_DIR}/parser.h)
add_flex_bison_dependency(Scanner Parser)

set(SOURCE_FILES ${BISON_Parser_OUTPUTS} ${FLEX_Scanner_OUTPUTS} 所有的源文件)
add_executable(项目名 ${SOURCE_FILES})
target_link_libraries(项目名 ${FLEX_LIBRARIES} ${BISON_LIBRARIES})
